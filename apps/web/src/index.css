@import "tailwindcss";
@plugin "tailwindcss-animate";
@import "./styles/academy-tokens.css";
@import "./styles/academy-premium.css";

/* Smoother scrolling (avoids jank with 3D/parallax sections) */
html {
  scroll-behavior: smooth;
}

/* Academy page header: force correct styles, prevent overrides */
.academy-header {
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: none !important;
  box-shadow: none !important;
}
.academy-header .academy-nav-bar {
  transition: all 0.2s ease-out;
}
.academy-header .academy-nav-bar.academy-nav-scrolled {
  background: rgba(0, 0, 0, 0.2) !important;
  backdrop-filter: blur(16px) !important;
  -webkit-backdrop-filter: blur(16px) !important;
  border: 1px solid #000000 !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15) !important;
}
.academy-header .academy-nav-bar.academy-nav-default {
  background: #000000 !important;
  border: 1px solid #000000 !important;
}

/* shadcn/ui theme tokens for Tailwind v4 (Components/ui) */
@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) + 4px);
}

/* shadcn primary (HSL) – extend for Radix/shadcn UI components */
@layer base {
  :root {
    --primary: 220deg 91% 54%;
  }

  .dark {
    --primary: 217deg 92% 76%;
  }
}

/* Blob Animation for Academy Page */
@keyframes blob {
  0%, 100% { 
    transform: translate(0, 0) scale(1); 
  }
  25% { 
    transform: translate(20px, -50px) scale(1.1); 
  }
  50% { 
    transform: translate(-20px, 20px) scale(0.9); 
  }
  75% { 
    transform: translate(50px, 50px) scale(1.05); 
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* ============================================
   Premium Custom Scrollbar Styles
   ============================================ */

/* Global Scrollbar - Premium Thin Design */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.3) transparent;
}

/* Webkit Browsers (Chrome, Safari, Edge) */
*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: transparent ;  
  border-radius: 10px;
}

*::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.4) 100%);
  border-radius: 10px;
  border: 2px solid transparent;
  background-clip: padding-box;
  transition: all 0.3s ease;
}

*::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(148, 163, 184, 0.6) 0%, rgba(100, 116, 139, 0.6) 100%);
  background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, rgba(148, 163, 184, 0.8) 0%, rgba(100, 116, 139, 0.8) 100%);
  background-clip: padding-box;
}

/* Super Admin Sidebar Scrollbar - Dark Theme */
.sidebar-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.sidebar-scrollbar::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.3);
  border-radius: 10px;
}

.sidebar-scrollbar::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(99, 102, 241, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%);
  border-radius: 10px;
  border: 1px solid rgba(15, 23, 42, 0.5);
  background-clip: padding-box;
  transition: all 0.3s ease;
}

.sidebar-scrollbar::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(99, 102, 241, 0.7) 0%, rgba(139, 92, 246, 0.7) 100%);
  background-clip: padding-box;
  box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
}

.sidebar-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(99, 102, 241, 0.5) rgba(15, 23, 42, 0.3);
}

/* Main Content Scrollbar - Light Theme with Gradient */
.main-content-scrollbar::-webkit-scrollbar {
  width: 10px;
}

.main-content-scrollbar::-webkit-scrollbar-track {
  background: rgba(241, 245, 249, 0.5);
  border-radius: 10px;
  margin: 8px 0;
}

.main-content-scrollbar::-webkit-scrollbar-thumb {
  /* Base gradient + glossy overlay (::before not supported on scrollbar-thumb) */
  background: linear-gradient(180deg, 
      rgba(255, 255, 255, 0.2) 0%, 
      transparent 50%,
      rgba(255, 255, 255, 0.1) 100%),
    linear-gradient(180deg, 
      rgba(59, 130, 246, 0.4) 0%, 
      rgba(99, 102, 241, 0.4) 50%,
      rgba(139, 92, 246, 0.4) 100%);
  border-radius: 10px;
  border: 2px solid rgba(241, 245, 249, 0.8);
  background-clip: padding-box;
  transition: all 0.3s ease;
}

.main-content-scrollbar::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, 
      rgba(255, 255, 255, 0.2) 0%, 
      transparent 50%,
      rgba(255, 255, 255, 0.1) 100%),
    linear-gradient(180deg, 
      rgba(59, 130, 246, 0.6) 0%, 
      rgba(99, 102, 241, 0.6) 50%,
      rgba(139, 92, 246, 0.6) 100%);
  background-clip: padding-box;
  box-shadow: 0 0 12px rgba(99, 102, 241, 0.3);
  transform: scaleX(1.1);
}

.main-content-scrollbar::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, 
      rgba(255, 255, 255, 0.2) 0%, 
      transparent 50%,
      rgba(255, 255, 255, 0.1) 100%),
    linear-gradient(180deg, 
      rgba(59, 130, 246, 0.8) 0%, 
      rgba(99, 102, 241, 0.8) 50%,
      rgba(139, 92, 246, 0.8) 100%);
  background-clip: padding-box;
}

.main-content-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(99, 102, 241, 0.4) rgba(241, 245, 249, 0.5);
}

/* Premium Scrollbar with Animated Glow */
.premium-scrollbar::-webkit-scrollbar {
  width: 12px;
}

.premium-scrollbar::-webkit-scrollbar-track {
  background: linear-gradient(90deg, 
    rgba(241, 245, 249, 0.3) 0%, 
    rgba(241, 245, 249, 0.1) 50%,
    rgba(241, 245, 249, 0.3) 100%);
  border-radius: 10px;
  margin: 4px;
}

.premium-scrollbar::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, 
    rgba(59, 130, 246, 0.5) 0%, 
    rgba(99, 102, 241, 0.5) 25%,
    rgba(139, 92, 246, 0.5) 50%,
    rgba(168, 85, 247, 0.5) 75%,
    rgba(236, 72, 153, 0.5) 100%);
  border-radius: 10px;
  border: 2px solid rgba(255, 255, 255, 0.1);
  background-clip: padding-box;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.premium-scrollbar::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, 
    rgba(59, 130, 246, 0.7) 0%, 
    rgba(99, 102, 241, 0.7) 25%,
    rgba(139, 92, 246, 0.7) 50%,
    rgba(168, 85, 247, 0.7) 75%,
    rgba(236, 72, 153, 0.7) 100%);
  background-clip: padding-box;
  box-shadow: 
    0 0 10px rgba(99, 102, 241, 0.4),
    0 0 20px rgba(139, 92, 246, 0.2),
    inset 0 0 10px rgba(255, 255, 255, 0.1);
  transform: scaleX(1.15);
}

.premium-scrollbar::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, 
    rgba(59, 130, 246, 0.9) 0%, 
    rgba(99, 102, 241, 0.9) 25%,
    rgba(139, 92, 246, 0.9) 50%,
    rgba(168, 85, 247, 0.9) 75%,
    rgba(236, 72, 153, 0.9) 100%);
  background-clip: padding-box;
}

.premium-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(99, 102, 241, 0.5) rgba(241, 245, 249, 0.3);
}

/* Smooth Scroll Behavior */
html {
  scroll-behavior: smooth;
}

/* Hide scrollbar for specific elements if needed */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Scrollbar Animation on Hover */
@keyframes scrollbarGlow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(99, 102, 241, 0.3);
  }
  50% {
    box-shadow: 0 0 15px rgba(99, 102, 241, 0.5), 0 0 25px rgba(139, 92, 246, 0.3);
  }
}

.premium-scrollbar::-webkit-scrollbar-thumb:hover {
  animation: scrollbarGlow 2s ease-in-out infinite;
}

/* Firefox Scrollbar Styling */
@supports (scrollbar-width: thin) {
  .sidebar-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(99, 102, 241, 0.5) rgba(15, 23, 42, 0.3);
  }
  
  .main-content-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(99, 102, 241, 0.4) rgba(241, 245, 249, 0.5);
  }
  
  .premium-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(99, 102, 241, 0.5) rgba(241, 245, 249, 0.3);
  }
}

/* ============================================
   Edge / Blinking caret fix (Microsoft Edge)
   ============================================
   Edge sometimes shows a blinking cursor at the end of text in non-editable
   elements (p, div, span, h1–h6). Hide the caret on all elements by default,
   then restore it only on real inputs and contenteditable areas.
   Keeps inputs/textareas working and preserves accessibility.
   ============================================ */

* {
  -ms-caret-color: transparent;
  caret-color: transparent;
}

/* Restore visible caret only on editable elements */
input,
textarea,
[contenteditable="true"] {
  -ms-caret-color: auto;
  caret-color: auto;
}

/* Ensure contenteditable="false" or empty doesn't show caret */
[contenteditable="false"],
[contenteditable=""] {
  -ms-caret-color: transparent;
  caret-color: transparent;
}

/* Remove focus outline from non-interactive text elements in Edge
   (they can receive focus on click and show a cursor; we already hid the caret above).
   Keep outline for keyboard focus on buttons/links via focus-visible. */
p:focus,
span:focus,
div:focus:not(button):not([role="button"]):not([role="tab"]):not([role="menuitem"]):not(a),
h1:focus,
h2:focus,
h3:focus,
h4:focus,
h5:focus,
h6:focus,
li:focus:not(button):not([role="button"]),
label:focus:not(input):not(select):not(textarea) {
  outline: none;
}

/* Accessibility: focus rings are handled by Tailwind focus-visible:ring-* in components.
   We only removed outline from non-interactive text elements above. */

